<p class="lead">#i18n{module.workflow.ticketing.task_automatic_assignment_config.title}</p>
<table class="table table-striped table-hover">
  <thead>
	<tr>
	  <th>#i18n{module.workflow.ticketing.task_automatic_assignment.config.columnAdminUser}</th>
	  <th>#i18n{module.workflow.ticketing.task_automatic_assignment.config.columnSuffixColumn}</th>
	  <th></th>
	  <th></th>
	</tr>
  </thead>
  <tbody>
	<#if list_user_assignment?? && list_user_assignment?has_content>
		<#list list_user_assignment as user_assignment>
			<#if user_assignment.adminUser??>
				<tr>
					<td>${user_assignment.adminUser.firstName} ${user_assignment.adminUser.lastName}</td>
					<td>
					
						<#list user_assignment.assignedSuffix as assignedSuffix> 
							${assignedSuffix} <#if assignedSuffix_index < user_assignment.assignedSuffix?size - 1 > , </#if>
						</#list>
					</td>
					<td><a href="javascript:alert('coming soon :)')"><i class="fa fa-pencil fa-fw"></i> #i18n{module.workflow.ticketing.task_automatic_assignment.config.labelEdit}</a></td>
					<td>
						<button class="btn btn-sm btn-danger btn-xs" type="button" onclick="javascript:removeAssignment('${user_assignment.adminUser.accessCode}')">
							<i class="glyphicon glyphicon-trash icon-white">&nbsp;</i> #i18n{module.workflow.ticketing.task_automatic_assignment.config.labelRemove}
						 </button>
					</td>
				  </tr>
			</#if>
		</#list>     
	  <tbody>
	</#if>	  
</table>
 <script>
 function removeAssignment(user_access_code) {
    var toRemove = confirm("#i18n{module.workflow.ticketing.task_automatic_assignment.config.labelConfirmRemove}");
    if ( toRemove )
    {
        var input = $("<input>").attr("type", "hidden").attr("name", "user_access_code").val(user_access_code);
		$('.form-horizontal').append($(input));  
		input = $("<input>").attr("type", "hidden").attr("name", "action").val('remove_assignment');
		$('.form-horizontal').append($(input));         
		$('.form-horizontal').submit();
    }
    else
    {
        return false;
    }
 }
 </script>
 